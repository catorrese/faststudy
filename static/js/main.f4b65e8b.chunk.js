(this.webpackJsonpfastudy=this.webpackJsonpfastudy||[]).push([[0],{122:function(e,t,n){},123:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(40),i=n.n(o),c=(n(122),n(16)),s=n(22),l=n(12),u=(n(123),n(85)),d=n(26),j=n(54),b=n(200),m=n(201),x=n(190),h=n(195),O=n(196),f=n(27),g=n(2),p=function(e){e.userInfo;var t=e.triggerSessionValidation,n=Object(r.useState)(!0),a=Object(l.a)(n,2),o=a[0],i=a[1],c=Object(r.useState)({email:"",password:"",confirm:"",university:"",name:""}),s=Object(l.a)(c,2),u=s[0],d=s[1],p=function(e,t){d((function(n){var r=Object(j.a)({},n);return r[e]=t,r}))};return Object(g.jsxs)(b.a,{sx:{backgroundColor:"white",minHeight:"auto",p:{xs:"1em",sm:"2em",md:"1em 4em"},minWidth:{xs:"300px",sm:"500px",md:"700px"},maxWidth:"900px",borderRadius:"15px",justifyContent:"center",m:"0 1em"},children:[Object(g.jsxs)(m.a,{sx:{color:"#E14D2A",mt:o?"1em":0,fontSize:{xs:25,md:35},fontFamily:"Montserrat Bold"},children:["User ",o?"Login":"Sign Up"]}),!o&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{type:"text",sx:{m:"2em 0 0em 0",backgroundColor:"lightgray",color:"white"},fullWidth:!0,variant:"outlined",margin:"normal",label:"Name",name:"name",autoComplete:"name",value:u.name,required:!0,onChange:function(e){return p(e.target.name,e.target.value)}}),Object(g.jsx)(x.a,{type:"text",sx:{m:"1em 0 0em 0",backgroundColor:"lightgray",color:"white"},fullWidth:!0,variant:"outlined",margin:"normal",label:"University",name:"university",autoComplete:"university",value:u.university,required:!0,onChange:function(e){return p(e.target.name,e.target.value)}})]}),Object(g.jsx)(x.a,{sx:{m:o?"2em 0 1em 0":"1em 0 1em 0",backgroundColor:"lightgray",color:"white"},fullWidth:!0,type:"email",variant:"outlined",margin:"normal",label:"Email",name:"email",autoComplete:"email",required:!0,value:u.email,onChange:function(e){return p(e.target.name,e.target.value)}}),Object(g.jsx)(x.a,{type:"password",sx:{m:"0",backgroundColor:"lightgray",color:"white"},fullWidth:!0,variant:"outlined",margin:"normal",label:"Password",name:"password",autoComplete:"password",value:u.password,required:!0,onChange:function(e){return p(e.target.name,e.target.value)}}),!o&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(x.a,{type:"password",sx:{m:"1em 0 0em 0",backgroundColor:"lightgray",color:"white"},fullWidth:!0,variant:"outlined",margin:"normal",label:"Confirm Password",name:"confirm",autoComplete:"confirm",value:u.confirm,required:!0,onChange:function(e){return p(e.target.name,e.target.value)}})}),o?Object(g.jsx)(h.a,{variant:"contained",sx:{margin:"1.3em 0 0 0",fontSize:15,width:"100%",height:40,borderRadius:22,fontFamily:"Montserrat Bold",bgcolor:"#E14D2A"},onClick:function(){!function(){if(""!==u.email&&""!==u.password){var e=Object(f.e)(Object(f.c)());Object(f.b)(Object(f.a)(e,"users/".concat(u.email.replaceAll(".","-")))).then((function(e){if(e.exists()){var n=e.val();n.password===u.password?(window.localStorage.setItem("user-info",JSON.stringify(n)),t()):console.log("Wrong password!")}else console.log("No data available")})).catch((function(e){console.error(e)}))}}()},id:"logInButton",children:"Login"}):Object(g.jsx)(h.a,{variant:"contained",sx:{margin:"1.3em 0 0 0",fontSize:15,width:"100%",height:40,borderRadius:22,fontFamily:"Montserrat Bold",bgcolor:"#E14D2A"},onClick:function(){i(!o)},id:"logInButton",children:"Sign Up"}),Object(g.jsxs)(O.a,{container:!0,sx:{m:o?"1em 0":"1em 0 0 0 "},children:[Object(g.jsx)(O.a,{item:!0,xs:12,md:6,children:Object(g.jsx)(h.a,{fullWidth:!0,color:"primary",sx:{textAlign:"right",fontSize:{xs:11,md:14},fontFamily:"Montserrat Light",color:"#E14D2A"},id:"forgotPasswordButton",children:Object(g.jsx)("strong",{children:"Forgot Password?"})})}),Object(g.jsx)(O.a,{item:!0,xs:12,md:6,children:o?Object(g.jsx)(h.a,{fullWidth:!0,sx:{textAlign:"right",fontSize:{xs:11,md:14},fontFamily:"Montserrat Light",color:"#E14D2A"},onClick:function(){return i(!o)},id:"forgotPasswordButton",children:Object(g.jsx)("strong",{children:"Create Account"})}):Object(g.jsx)(h.a,{fullWidth:!0,sx:{textAlign:"right",fontSize:{xs:11,md:14},fontFamily:"Montserrat Light",color:"#E14D2A"},onClick:function(){return i(!o)},id:"forgotPasswordButton",children:Object(g.jsx)("strong",{children:"Login"})})})]})]})},v=n(185),y=n(206),w=n(207),C=n(208),k=n(198),S=n(203),A=n(193),E=n(209),I=n(210),D=n(186),M=n(187),W=n(188),F=n(189),B=n(105),N=n.n(B),L=n(50),q=n(202),z=function(e){var t=e.userInfo,n=Object(L.useMediaQuery)({query:"(max-width: 900px)"});return Object(g.jsxs)(q.a,{sx:{width:"100%",padding:n?"1em":"2em 1em",display:"flex",flexDirection:"column",borderRadius:"15px"},children:[Object(g.jsx)(m.a,{variant:n?"h5":"h4",sx:{fontFamily:"Montserrat Bold",mb:"1em"},children:"Profile"}),Object(g.jsxs)(O.a,{container:!0,sx:{},children:[Object(g.jsx)(O.a,{item:!0,xs:12,sx:{mb:"0.5em"},children:Object(g.jsxs)(m.a,{variant:n?"h7":"h6",sx:{fontFamily:"Montserrat Light"},children:["Name: ",t.name]})}),Object(g.jsx)(O.a,{item:!0,xs:12,sx:{mb:"0.5em"},children:Object(g.jsxs)(m.a,{variant:n?"h7":"h6",sx:{fontFamily:"Montserrat Light"},children:["Email: ",t.email]})}),Object(g.jsx)(O.a,{item:!0,xs:12,sx:{mb:"0.5em"},children:Object(g.jsxs)(m.a,{variant:n?"h7":"h6",sx:{fontFamily:"Montserrat Light"},children:["University: ",t.university]})})]})]})},P=n(204),U=n(205),R=n(197),V=n(41),J=function(e){var t=e.userInfo,n=Object(r.useState)(!1),a=Object(l.a)(n,2),o=a[0],i=a[1],u=Object(r.useState)([]),d=Object(l.a)(u,2),b=d[0],p=d[1],v=Object(r.useState)(!1),y=Object(l.a)(v,2),w=y[0],C=y[1],k=Object(r.useState)({name:"",course:"",university:"",career:""}),S=Object(l.a)(k,2),A=S[0],E=S[1],I=Object(r.useState)(""),D=Object(l.a)(I,2),M=(D[0],D[1],Object(r.useState)(null)),W=Object(l.a)(M,2),F=W[0],B=W[1],N=function(e,t){E((function(n){var r=Object(j.a)({},n);return r[e]=t,r}))};Object(r.useEffect)((function(){var e=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(f.e)(Object(f.c)()),Object(f.b)(Object(f.a)(n,"user-posts/".concat(t.email.replaceAll(".","-")))).then((function(e){if(e.exists()){var t=e.val();console.log(Object.values(t)),p(Object.values(t))}else console.log("No data available"),p([])})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t&&e()}),[o,t]);var z=Object(L.useMediaQuery)({query:"(max-width: 900px)"});return Object(g.jsxs)(q.a,{sx:{width:"100%",padding:z?"1em":"2em 1em",borderRadius:"15px",mt:"4em"},children:[Object(g.jsx)(m.a,{variant:z?"h5":"h4",sx:{fontFamily:"Montserrat Bold",mb:"1em"},children:w?"Create Notes":"My Notes"}),!w&&0===b.length&&Object(g.jsx)(m.a,{variant:z?"h6":"h5",sx:{fontFamily:"Montserrat Bold",mb:"1em"},children:"You don't have any notes uploaded."}),!w&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.a,{variant:"contained",fullWidth:!0,sx:{backgroundColor:"#E14D2A"},onClick:function(){C(!0)},children:"Create Notes"}),Object(g.jsx)(O.a,{container:!0,width:"100%",justifyContent:"center",children:b.map((function(e,t){return Object(g.jsx)(O.a,{item:!0,xs:12,sm:6,md:4,sx:{minWidth:"300px",heigth:"235px",ml:z?0:" 0.5em"},children:Object(g.jsx)(P.a,{sx:{margin:"1em",borderRadius:"1em",background:"white",border:"solid #E14D2A",minWidth:"300px",minHeight:"235px",p:"0 0.5em"},children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(m.a,{noWrap:!0,variant:"h7",sx:{mb:"0.5em"},children:Object(g.jsx)("strong",{children:e.name})}),Object(g.jsxs)(m.a,{children:["University: ",e.university]}),Object(g.jsxs)(m.a,{children:["Career: ",e.career]}),Object(g.jsxs)(m.a,{children:["Course: ",e.course]}),Object(g.jsx)(h.a,{variant:"contained",sx:{backgroundColor:"#E14D2A",m:"1.3em 0 0 0"},onClick:function(){!function(e){var t=Object(V.b)();Object(V.a)(Object(V.c)(t,"notes/"+e)).then((function(e){window.open(e)})).catch((function(e){console.log(e)}))}(e.path)},children:"View Notes"})]})})},t)}))})]}),w&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{sx:{m:"0 0 0.5em 0",backgroundColor:"lightgray",color:"white"},fullWidth:!0,type:"text",variant:"outlined",margin:"normal",label:"Name",name:"name",autoComplete:"name",required:!0,value:A.name,onChange:function(e){return N(e.target.name,e.target.value)}}),Object(g.jsx)(x.a,{sx:{m:"0.5em 0 0.5em 0",backgroundColor:"lightgray",color:"white"},fullWidth:!0,type:"text",variant:"outlined",margin:"normal",label:"University",name:"university",autoComplete:"university",required:!0,value:A.university,onChange:function(e){return N(e.target.name,e.target.value)}}),Object(g.jsx)(x.a,{sx:{m:"0.5em 0 0.5em 0",backgroundColor:"lightgray",color:"white"},fullWidth:!0,type:"text",variant:"outlined",margin:"normal",label:"Career",name:"career",autoComplete:"career",required:!0,value:A.career,onChange:function(e){return N(e.target.name,e.target.value)}}),Object(g.jsx)(x.a,{sx:{m:"0.5em 0 1em 0",backgroundColor:"lightgray",color:"white"},fullWidth:!0,type:"text",variant:"outlined",margin:"normal",label:"Course",name:"course",autoComplete:"course",required:!0,value:A.course,onChange:function(e){return N(e.target.name,e.target.value)}}),null===F?Object(g.jsxs)(h.a,{fullWidth:!0,component:"label",sx:{color:"#E14D2A",border:"solid #E14D2A",mb:"1em"},children:["Upload file",Object(g.jsx)("input",{hidden:!0,accept:"application/pdf",type:"file",multiple:!1,onChange:function(e){B(e.target.files[0])}})]}):Object(g.jsx)(m.a,{sx:{color:"#E14D2A",mb:"1em"},children:F.name}),Object(g.jsxs)(R.a,{direction:"row",sx:{justifyContent:"space-between"},children:[Object(g.jsx)(h.a,{variant:"contained",sx:{backgroundColor:"#E14D2A"},onClick:function(){!function(){var e=!1;if(Object.values(A).forEach((function(t){""!==t&&null!==t||(e=!0)})),!e&&null!=F){var n=Object(f.c)(),r=Object(f.d)(Object(f.a)(Object(f.e)(n),"notes")).key,a=Object(V.b)(),c=Object(V.c)(a,"notes/"+r);Object(V.d)(c,F).then((function(e){console.log("Uploaded file!");var a={},c=A;c.path=r,a["/notes/"+r]=c,a["/user-posts/"+t.email.replaceAll(".","-")+"/"+r]=c,Object(f.f)(Object(f.e)(n),a).then((function(){C(!1),i(!o)})).catch((function(e){return console.log(e)}))}))}}()},children:"Create Notes"}),Object(g.jsx)(h.a,{variant:"contained",sx:{backgroundColor:"lightgrey"},onClick:function(){B(null),E({name:"",course:"",university:"",career:"",path:""}),C(!1)},children:"Cancel"})]})]})]})},H=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(L.useMediaQuery)({query:"(max-width: 900px)"});Object(r.useEffect)((function(){var e=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(f.e)(Object(f.c)()),Object(f.b)(Object(f.a)(t,"notes")).then((function(e){if(e.exists()){var t=e.val();console.log(Object.values(t)),a(Object.values(t))}else console.log("No data available"),a([])})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(g.jsxs)(q.a,{sx:{width:"100%",padding:o?"1em":"2em 1em",borderRadius:"15px",mt:"4em"},children:[Object(g.jsx)(m.a,{variant:o?"h5":"h4",sx:{fontFamily:"Montserrat Bold",mb:"1em"},children:"Notes"}),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(O.a,{container:!0,width:"100%",justifyContent:"center",children:n.map((function(e,t){return Object(g.jsx)(O.a,{item:!0,xs:12,sm:6,md:4,sx:{minWidth:"300px",heigth:"235px",ml:o?0:" 0.5em"},children:Object(g.jsx)(P.a,{sx:{margin:"1em",borderRadius:"1em",background:"white",border:"solid #E14D2A",minWidth:"300px",minHeight:"235px",p:"0 0.5em"},children:Object(g.jsxs)(U.a,{children:[Object(g.jsx)(m.a,{noWrap:!0,variant:"h7",sx:{mb:"0.5em"},children:Object(g.jsx)("strong",{children:e.name})}),Object(g.jsxs)(m.a,{children:["University: ",e.university]}),Object(g.jsxs)(m.a,{children:["Career: ",e.career]}),Object(g.jsxs)(m.a,{children:["Course: ",e.course]}),Object(g.jsx)(h.a,{variant:"contained",sx:{backgroundColor:"#E14D2A",m:"1.3em 0 0 0"},onClick:function(){!function(e){var t=Object(V.b)();Object(V.a)(Object(V.c)(t,"notes/"+e)).then((function(e){window.open(e)})).catch((function(e){console.log(e)}))}(e.path)},children:"View Notes"})]})})},t)}))})})]})},Q=function(e){var t=e.userInfo,n=e.triggerSessionValidation,a=Object(L.useMediaQuery)({query:"(max-width: 900px)"}),o=Object(r.useState)(!1),i=Object(l.a)(o,2),c=i[0],s=i[1],u=Object(r.useState)(0),d=Object(l.a)(u,2),j=d[0],b=d[1],m=function(){s(!c)},x=function(e){s(!1),b(e)};return Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)(v.a,{}),Object(g.jsx)(y.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1},backgroundColor:"#E14D2A"},children:Object(g.jsxs)(w.a,{sx:{justifyContent:"space-between"},children:[Object(g.jsx)(C.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:m,sx:{mr:2,display:{md:"none"}},children:Object(g.jsx)(N.a,{})}),Object(g.jsx)("div",{color:"inherit",children:Object(g.jsx)("img",{src:"/images/fastudy-logo.png",alt:"Logo Fastudy",width:"180",height:"auto"})})]})}),Object(g.jsxs)(k.a,{variant:a?"temporary":"permanent",open:c,onClose:m,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{boxSizing:"border-box",width:240},width:240,flexShrink:0},children:[Object(g.jsx)("div",{style:{height:"70px"}}),Object(g.jsxs)(S.a,{sx:{paddingBottom:"200px"},children:[Object(g.jsxs)(A.a,{button:!0,selected:0===j,onClick:function(){return x(0)},id:"usersButton",sx:0===j?{color:"#E14D2A","& .MuiListItemIcon-root":{color:"#E14D2A"}}:"",children:[Object(g.jsx)(E.a,{children:Object(g.jsx)(D.a,{})}),Object(g.jsx)(I.a,{primary:"Profile"})]}),Object(g.jsxs)(A.a,{button:!0,selected:1===j,onClick:function(){return x(1)},id:"usersButton",sx:1===j?{color:"#E14D2A","& .MuiListItemIcon-root":{color:"#E14D2A"}}:"",children:[Object(g.jsx)(E.a,{children:Object(g.jsx)(M.a,{})}),Object(g.jsx)(I.a,{primary:"Search Notes"})]}),Object(g.jsxs)(A.a,{button:!0,selected:2===j,onClick:function(){return x(2)},id:"usersButton",sx:2===j?{color:"#E14D2A","& .MuiListItemIcon-root":{color:"#E14D2A"}}:"",children:[Object(g.jsx)(E.a,{children:Object(g.jsx)(W.a,{})}),Object(g.jsx)(I.a,{primary:"My Notes"})]}),Object(g.jsxs)(A.a,{button:!0,onClick:function(){return window.localStorage.setItem("user-info",null),void n()},id:"usersButton",children:[Object(g.jsx)(E.a,{children:Object(g.jsx)(F.a,{})}),Object(g.jsx)(I.a,{primary:"Logout"})]})]})]}),function(){switch(j){case 0:return Object(g.jsx)(z,{userInfo:t});case 1:return Object(g.jsx)(H,{});case 2:return Object(g.jsx)(J,{userInfo:t});default:return null}}()]})},K=function(e){var t=e.userInfo,n=e.triggerSessionValidation;return Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)(d.b,{exact:!0,path:"/",render:function(){return t?Object(g.jsx)(d.a,{to:"/fastudy"}):Object(g.jsx)(p,{triggerSessionValidation:n,userInfo:t})}}),Object(g.jsx)(d.b,{exact:!0,path:"/fastudy",render:function(){return t?Object(g.jsx)(Q,{userInfo:t,triggerSessionValidation:n}):Object(g.jsx)(d.a,{to:"/"})}})]})},G=n(106);var Y=function(e){var t=Object(r.useState)(),n=Object(l.a)(t,2),a=n[0],o=n[1],i=Object(r.useState)(!1),d=Object(l.a)(i,2),j=d[0],b=d[1],m=(Object(G.a)({apiKey:"AIzaSyDe5ohJkj9mZeP2lgkvGHRAjr0j2KdlsS4",authDomain:"fastudy-c3bad.firebaseapp.com",projectId:"fastudy-c3bad",storageBucket:"fastudy-c3bad.appspot.com",messagingSenderId:"840946595141",appId:"1:840946595141:web:47f91f2d8f9a69cd687a2c"}),function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=JSON.parse(window.localStorage.getItem("user-info")),o(t)}catch(n){console.log(n),o(null)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(r.useEffect)((function(){try{m()}catch(e){console.log(e),o(null)}}),[j]),Object(g.jsx)("div",{className:"App",children:Object(g.jsx)("header",{className:"App-header",children:Object(g.jsx)(u.a,{children:Object(g.jsx)(K,{userInfo:a,triggerSessionValidation:function(){b((function(e){return!e}))}})})})})};i.a.render(Object(g.jsx)(Y,{}),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.f4b65e8b.chunk.js.map